<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Exercise # Implement an image / video processing app supporting different masks, including other kernel sizes different than 3x3, and:
A region-of-interest base tool to selectively apply a given mask.Hint: circular regions around the mouse pointer are handy and quite simple to implement by means of glsl distance. A magnifier tool. Requires a bit of research. For instance, look for it in shadertoy. Integrate luma and other coloring brightness tools."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Image Processing"><meta property="og:description" content="Exercise # Implement an image / video processing app supporting different masks, including other kernel sizes different than 3x3, and:
A region-of-interest base tool to selectively apply a given mask.Hint: circular regions around the mouse pointer are handy and quite simple to implement by means of glsl distance. A magnifier tool. Requires a bit of research. For instance, look for it in shadertoy. Integrate luma and other coloring brightness tools."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing.github.io/showcase/docs/Shaders/ImageProcessing/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2023-06-17T18:23:35-05:00"><title>Image Processing | Visual Computing 2023-1</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.4b35fed0bea034bbc19c89c71e14b73fb9c68cfcc586b9382adfb9b7b103ba06.css integrity="sha256-SzX+0L6gNLvBnInHHhS3P7nGjPzFhrk4Kt+5t7EDugY=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.3a8d658c77eb93c7f12a2b8af49a700131e474f288eefb605d9fa61576dbe5a7.js integrity="sha256-Oo1ljHfrk8fxKiuK9JpwATHkdPKI7vtgXZ+mFXbb5ac=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Visual Computing 2023-1</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-7e4921a1bef13fc49e19193dc1bfdc8f class=toggle>
<label for=section-7e4921a1bef13fc49e19193dc1bfdc8f class="flex justify-between"><a href=/showcase/docs/members/>Members</a></label><ul><li><a href=/showcase/docs/members/Adrian/>Adrian</a></li><li><a href=/showcase/docs/members/Jaime/>Jaime</a></li><li><a href=/showcase/docs/members/Rodrigo/>Rodrigo</a></li></ul></li><li class=book-section-flat><a href=/showcase/docs/Shaders/>Shaders</a><ul><li><a href=/showcase/docs/Shaders/coloring/>Coloring</a></li><li><a href=/showcase/docs/Shaders/posteffects/>Texturing</a></li><li><a href=/showcase/docs/Shaders/Texturing/>Texturing</a></li><li><a href=/showcase/docs/Shaders/ImageProcessing/ class=active>Image Processing</a></li><li><a href=/showcase/docs/Shaders/ProceduralTexturing/>Procedural Texturing</a></li><li><a href=/showcase/docs/Shaders/SpatialCoherence/>Spatial Coherence</a></li><li><a href=/showcase/docs/Shaders/Photomosaic/>Photomosaic</a></li></ul></li><li class=book-section-flat><a href=/showcase/docs/Visual-Illusions/>Visual Illusions</a><ul><li><input type=checkbox id=section-99e4a0d55300f831d740177d881e77f4 class=toggle>
<label for=section-99e4a0d55300f831d740177d881e77f4 class="flex justify-between"><a href=/showcase/docs/Visual-Illusions/Coloring/>Coloring</a></label><ul><li><a href=/showcase/docs/Visual-Illusions/Coloring/Color-blindness/>Color Blindness</a></li></ul></li><li><input type=checkbox id=section-bd03a1ba8998ae8c9df2b933d511e416 class=toggle>
<label for=section-bd03a1ba8998ae8c9df2b933d511e416 class="flex justify-between"><a href=/showcase/docs/Visual-Illusions/Mach-Bands/>Mach Bands</a></label><ul><li><a href=/showcase/docs/Visual-Illusions/Mach-Bands/Terrain-with-Perlin-noise/>Terrain With Perlin Noise</a></li></ul></li><li><input type=checkbox id=section-7a7081fda5df7dbf85b6d879015de52b class=toggle>
<label for=section-7a7081fda5df7dbf85b6d879015de52b class="flex justify-between"><a href=/showcase/docs/Visual-Illusions/Masking/>Masking</a></label><ul><li><a href=/showcase/docs/Visual-Illusions/Masking/Visual-masking/>Visual Masking</a></li><li><a href=/showcase/docs/Visual-Illusions/Masking/Convolution-masks/>Convolution Masks</a></li></ul></li><li><input type=checkbox id=section-8f4e9ca131433d238729d21435de5a65 class=toggle>
<label for=section-8f4e9ca131433d238729d21435de5a65 class="flex justify-between"><a href=/showcase/docs/Visual-Illusions/Spatial-Coherence/>Spatial Coherence</a></label><ul><li><a href=/showcase/docs/Visual-Illusions/Spatial-Coherence/Pixelator-demo/>Pixelator Demo</a></li></ul></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Image Processing</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><ul><li><a href=#exercise>Exercise</a></li><li><a href=#image-processing>Image Processing</a><ul><li><a href=#controles>Controles</a></li></ul></li></ul></li></ul></nav></aside></header><article class=markdown><h2 id=exercise>Exercise
<a class=anchor href=#exercise>#</a></h2><p>Implement an image / video processing app supporting different masks, including other kernel sizes different than 3x3, and:</p><ul><li>A region-of-interest base tool to selectively apply a given mask.Hint: circular regions around the mouse pointer are handy and quite simple to implement by means of glsl distance.</li><li>A magnifier tool. Requires a bit of research. For instance, look for it in shadertoy.</li><li>Integrate luma and other coloring brightness tools.</li></ul><h2 id=image-processing>Image Processing
<a class=anchor href=#image-processing>#</a></h2><p>En esta aplicación se utilizan cuatro shaders. Uno para el masking, otro para el magnifier y el de iluminación y tinturado ya vistos en <strong>Texturing</strong>.</p><p>El masking se implementó para matrices 3x3 y 5x5.</p><p>El shader recibe cada texel y para cada uno de ellos obtiene el color y el de sus vecinos. Los vecinos dependen de si la convolución es 3x3 o 5x5. Se realiza la suma ponderada y se aplica el resultado como color del texel.</p><p>En esta implementación, para la convolución 3x3 se requieren al menos 9 declaraciones para calcular las coordenadas y los colores de los vecinos, mientras que para la convolución 5x5 se requieren al menos 25 declaraciones. Por esta razón se omitieron convoluciones mayores (7x7, 9x9, etc.).</p><p>La región de interés también es implementada en el shader de las convoluciones. Se utiliza el valor de un radio definido por el usuario, y se aplica la convolución solo a los texeles dentro del alcance de ese radio. Cuando no se selecciona región de interés se sigue usando un radio, pero muy grande de manera que el usuario vea la convolución aplicada a toda la imagen.</p><p>El usuario tiene la posibilidad de ingresar los valores de una matriz de convolución 3x3 o 5x5 que conozca, utilizando una lista de inputs que se habilitan cuando selecciona la máscara: user defined.</p><p>La implementación del magnifier fue tomada de <a href=https://www.shadertoy.com/view/llsSz7>magnifier (Shadertoy)</a>. El código se modificó parcialmente para que fuera compatible con GLSL, por ejemplo, eliminando los parámetros out, in. Cambiando el nombre de las variables FragCoord y FragColor a gl_FragCoord y gl_FragColor. Y agregando las declaraciones u_mouse y u_resolution. La variable iChannel se cambió a texture. El radio y la profundidad fueron hechos parámetros controlados desde el sketch.</p><p>Las funcionalidades de brightness y tinting son implementadas usando los shaders ya vistos en <strong>Texturing</strong>.</p><h3 id=controles>Controles
<a class=anchor href=#controles>#</a></h3><ul><li><strong>Botón Choose File</strong>: para cargar una imagen o video</li><li><strong>Checkbox Default Video</strong>: marcar para usar el video por defecto, desmarcar para usar la imagen por defecto</li><li><strong>Select 3x3, 5x5</strong>: para indicar el tamaño de la convolución</li><li><strong>Select (Mask)</strong>: selecciona el kernel o máscara de convolución</li><li><strong>Select (función)</strong>: Seleccion masks (para ver convolución en toda la imagen), region of interest (para ver la convolución en la región de interés definida), magnifier, brightness y tinting.</li><li><strong>Slider (radio región de interés)</strong>: para cambiar el radio de la región de interés</li><li><strong>Slider (radio magnifier)</strong>: para cambiar el radio del magnifier</li><li><strong>Slider (profundidad magnifier)</strong>: para cambiar la profundidad del magnifier</li><li><strong>Select (brightness)</strong>: para seleccionar el modo de iluminación: luma, value, lightness, intensity</li><li><strong>Slider (brightness)</strong>: controla el brillo (visible cuando se selecciona tinting)</li><li><strong>Color Pickers</strong>: para seleccionar los colores que se aplicarán en el tinting</li><li><strong>Inputs (user defined convolution)</strong>: lista de inputs numéricos para que el usuario ingrese matriz de convolución.</li></ul><iframe id=imgprocessing style=width:750px;height:700px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.6.0/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
            
            
            
            
            <script src=/showcase/sketches/shaders/ImageProcessing/imgprocessing.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<details><summary>Sketch Code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>maskShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>magnifierShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>brightnessShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>tintingShader</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>input</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>kselect</span>; <span style=color:#75715e>// kernel select
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mask3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mask5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r0c0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r0c1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r0c2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r0c3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r0c4</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r1c0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r1c1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r1c2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r1c3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r1c4</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r2c0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r2c1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r2c2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r2c3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r2c4</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r3c0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r3c1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r3c2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r3c3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r3c4</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r4c0</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r4c1</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r4c2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r4c3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>r4c4</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cells3</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cells5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>ksselect</span>; <span style=color:#75715e>// kernel size select
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>ksize</span>; <span style=color:#75715e>// kernel size
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>roiradius</span>; <span style=color:#75715e>// region-of-interest radius
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mradius</span>; <span style=color:#75715e>// magnifier radius
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>rslider</span>; <span style=color:#75715e>// radius slider
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>dslider</span>; <span style=color:#75715e>// depth slider
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>modeselect</span>; 
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mode</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lmselect</span>; <span style=color:#75715e>// lightning mode select
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorA</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorB</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorC</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorD</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cpcikerA</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cpcikerB</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cpcikerC</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>cpcikerD</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>bmselect</span>; <span style=color:#75715e>// blending mode select
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>bmode</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>bslider</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>video_on</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/VisualComputing/docs/shaders/fragments/mask.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>magnifierShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/VisualComputing/docs/shaders/fragments/magnifier.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>brightnessShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/VisualComputing/docs/shaders/fragments/brightness.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tintingShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/VisualComputing/docs/shaders/fragments/tinting.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> [<span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>|</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>color4</span>] });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>700</span>, <span style=color:#ae81ff>500</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ksselect</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;3x3&#39;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;5x5&#39;</span>, <span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#39;3x3&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;identity&#39;</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;ridges&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;sharpen&#39;</span>, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;blur&#39;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;top sobel&#39;</span>, <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;right sobel&#39;</span>, <span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;bottom sobel&#39;</span>, <span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;left sobel&#39;</span>, <span style=color:#ae81ff>7</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;emboss&#39;</span>, <span style=color:#ae81ff>8</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;user defined&#39;</span>, <span style=color:#ae81ff>9</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#39;identity&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/VisualComputing/docs/shaders/resources/download.png&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>input</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createFileInput</span>(<span style=color:#a6e22e>handleFile</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r0c0</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r0c1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r0c2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r0c3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r0c4</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r1c0</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r1c1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r1c2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r1c3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r1c4</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r2c0</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r2c1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r2c2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r2c3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r2c4</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r3c0</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r3c1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r3c2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r3c3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r3c4</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r4c0</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r4c1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r4c2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r4c3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>r4c4</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#e6db74>&#39;&#39;</span>, <span style=color:#e6db74>&#39;number&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cells3</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>r0c0</span>, <span style=color:#a6e22e>r0c1</span>, <span style=color:#a6e22e>r0c2</span>, <span style=color:#a6e22e>r1c0</span>, <span style=color:#a6e22e>r1c1</span>, <span style=color:#a6e22e>r1c2</span>, <span style=color:#a6e22e>r2c0</span>, <span style=color:#a6e22e>r2c1</span>, <span style=color:#a6e22e>r2c2</span>];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cells5</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>r0c0</span>, <span style=color:#a6e22e>r0c1</span>, <span style=color:#a6e22e>r0c2</span>, <span style=color:#a6e22e>r0c3</span>, <span style=color:#a6e22e>r0c4</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r1c0</span>, <span style=color:#a6e22e>r1c1</span>, <span style=color:#a6e22e>r1c2</span>, <span style=color:#a6e22e>r1c3</span>, <span style=color:#a6e22e>r1c4</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r2c0</span>, <span style=color:#a6e22e>r2c1</span>, <span style=color:#a6e22e>r2c2</span>, <span style=color:#a6e22e>r2c3</span>, <span style=color:#a6e22e>r2c4</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r3c0</span>, <span style=color:#a6e22e>r3c1</span>, <span style=color:#a6e22e>r3c2</span>, <span style=color:#a6e22e>r3c3</span>, <span style=color:#a6e22e>r3c4</span>,
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>r4c0</span>, <span style=color:#a6e22e>r4c1</span>, <span style=color:#a6e22e>r4c2</span>, <span style=color:#a6e22e>r4c3</span>, <span style=color:#a6e22e>r4c4</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cells3</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>cell</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cell</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cells5</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>cell</span>) =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cell</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>roirslider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.3</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>roirslider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>roirslider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;120px&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mrslider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>1.5</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mrslider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mrslider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;120px&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dslider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dslider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>550</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>dslider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;120px&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeselect</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeselect</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>240</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;masks&#39;</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;region-of-interest&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;magnifier&#39;</span>, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;brightness&#39;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;tinting&#39;</span>, <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>modeselect</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#39;normal&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;original&#39;</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;luma&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;value&#39;</span>, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;lightness&#39;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;intensity&#39;</span>, <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#39;original&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorA</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;red&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorB</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;green&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorC</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;blue&#34;</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorD</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;yellow&#34;</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerA</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#a6e22e>colorA</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerA</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerA</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#a6e22e>colorB</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>640</span>, <span style=color:#ae81ff>40</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerC</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#a6e22e>colorC</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerC</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>20</span>, <span style=color:#ae81ff>440</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerC</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerD</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createColorPicker</span>(<span style=color:#a6e22e>colorD</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerD</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>640</span>, <span style=color:#ae81ff>440</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cpickerD</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bslider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;80px&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;MULTIPLY&#39;</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;ADD (LINEAR DODGE)&#39;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;SCREEN&#39;</span>, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;OVERLAY&#39;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;DARKEST&#39;</span>, <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;LIGHTEST&#39;</span>, <span style=color:#ae81ff>5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;COLOR BURN&#39;</span>, <span style=color:#ae81ff>6</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;LINEAR BURN&#39;</span>, <span style=color:#ae81ff>7</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;DIFFERENCE&#39;</span>, <span style=color:#ae81ff>8</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;DIVIDE&#39;</span>, <span style=color:#ae81ff>9</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;EXCLUSION&#39;</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;COLOR DODGE&#39;</span>, <span style=color:#ae81ff>11</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;HARD LIGHT&#39;</span>, <span style=color:#ae81ff>12</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;VIVID LIGHT&#39;</span>, <span style=color:#ae81ff>13</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;LINEAR LIGHT&#39;</span>, <span style=color:#ae81ff>14</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;PIN LIGHT&#39;</span>, <span style=color:#ae81ff>15</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;SOFT LIGHT 1&#39;</span>, <span style=color:#ae81ff>16</span>); <span style=color:#75715e>// photoshop
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;SOFT LIGHT 2&#39;</span>, <span style=color:#ae81ff>17</span>); <span style=color:#75715e>// pegtop
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;SOFT LIGHT 3&#39;</span>, <span style=color:#ae81ff>18</span>); <span style=color:#75715e>// ilussions.hu
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#39;SOFT LIGHT 4&#39;</span>, <span style=color:#ae81ff>19</span>); <span style=color:#75715e>// w3C
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>selected</span>(<span style=color:#e6db74>&#39;MULTIPLY&#39;</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;default video&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>changed</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#e6db74>&#39;/VisualComputing/docs/shaders/resources/video1.mp4&#39;</span>]);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loop</span>();
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/VisualComputing/docs/shaders/resources/download.png&#39;</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>magnifierShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>brightnessShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tintingShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>  })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>image</span>(<span style=color:#a6e22e>img</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>700</span>, <span style=color:#ae81ff>500</span>); 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>skernel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>value</span>(); <span style=color:#75715e>// selected kernel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>ksize</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>value</span>(); <span style=color:#75715e>// kernel size
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>mode</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>modeselect</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>maskShader</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerA</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerC</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerD</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roirslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mrslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roiradius</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>100</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>maskShader</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerA</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerC</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerD</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roirslider</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mrslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roiradius</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>roirslider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>magnifierShader</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerA</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerC</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerD</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roirslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dslider</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mrslider</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mradius</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mrslider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>depth</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>dslider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>magnifierShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>magnifierShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mradius&#39;</span>, <span style=color:#a6e22e>mradius</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>magnifierShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;depth&#39;</span>, <span style=color:#a6e22e>depth</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>emitMousePosition</span>(<span style=color:#a6e22e>magnifierShader</span>, [<span style=color:#a6e22e>uniform</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;mouse&#39;</span>]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>emitResolution</span>(<span style=color:#a6e22e>magnifierShader</span>, [<span style=color:#a6e22e>uniform</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;resolution&#39;</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerA</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerC</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerD</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roirslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mrslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>brightnessShader</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>brightnessShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>brightnessShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mode&#39;</span>, <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mode</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>) {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>ksselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>kselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lmselect</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>roirslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>dslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mrslider</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerA</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorA</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cpickerA</span>.<span style=color:#a6e22e>color</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorB</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cpickerB</span>.<span style=color:#a6e22e>color</span>()
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerC</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorC</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cpickerC</span>.<span style=color:#a6e22e>color</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cpickerD</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>colorD</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>cpickerD</span>.<span style=color:#a6e22e>color</span>()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bmode</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>bmselect</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>brightness</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>bslider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>tintingShader</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>beginShape</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorA</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorB</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorC</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>fill</span>(<span style=color:#a6e22e>colorD</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vertex</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>endShape</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tintingShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;brightness&#39;</span>, <span style=color:#a6e22e>brightness</span>); 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tintingShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mode&#39;</span>, <span style=color:#a6e22e>bmode</span>); 
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>tintingShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texOffset&#39;</span>, [<span style=color:#ae81ff>1</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>width</span>, <span style=color:#ae81ff>1</span> <span style=color:#f92672>/</span> <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>height</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;ksize&#39;</span>, <span style=color:#a6e22e>ksize</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;roiradius&#39;</span>, <span style=color:#a6e22e>roiradius</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mode&#39;</span>, <span style=color:#a6e22e>mode</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>emitMousePosition</span>(<span style=color:#a6e22e>maskShader</span>, [<span style=color:#a6e22e>uniform</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;mouse&#39;</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>emitResolution</span>(<span style=color:#a6e22e>maskShader</span>, [<span style=color:#a6e22e>uniform</span> <span style=color:#f92672>=</span> <span style=color:#e6db74>&#39;resolution&#39;</span>]);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>9</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ksize</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>cells5</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>cell</span>) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cell</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>cells3</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>cell</span>) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cell</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ksize</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>cells3</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>cell</span>) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cell</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>cells5</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>cell</span>) =&gt; {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>cell</span>.<span style=color:#a6e22e>show</span>();
</span></span><span style=display:flex><span>      })
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>r0c0</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r0c1</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r0c2</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r1c0</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r1c1</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r1c2</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r2c0</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r2c1</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r2c2</span>.<span style=color:#a6e22e>value</span>()]
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#a6e22e>r0c0</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r0c1</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r0c2</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r0c3</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r0c4</span>.<span style=color:#a6e22e>value</span>(),
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>r1c0</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r1c1</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r1c2</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r1c3</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r1c4</span>.<span style=color:#a6e22e>value</span>(),
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>r2c0</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r2c1</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r2c2</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r2c3</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r2c4</span>.<span style=color:#a6e22e>value</span>(),
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>r3c0</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r3c1</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r3c2</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r3c3</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r3c4</span>.<span style=color:#a6e22e>value</span>(),
</span></span><span style=display:flex><span>             <span style=color:#a6e22e>r4c0</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r4c1</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r4c2</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r4c3</span>.<span style=color:#a6e22e>value</span>(), <span style=color:#a6e22e>r4c4</span>.<span style=color:#a6e22e>value</span>(),]
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cells3</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>cell</span>) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>cell</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cells5</span>.<span style=color:#a6e22e>forEach</span>((<span style=color:#a6e22e>cell</span>) =&gt; {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>cell</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    })
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>) { <span style=color:#75715e>// identity
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, 
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, 
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, 
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, 
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>]
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>) { <span style=color:#75715e>// ridges
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, 
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, 
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>8</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, 
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, 
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>2</span>) { <span style=color:#75715e>// sharpen
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>5</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>              <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>5</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>3</span>) { <span style=color:#75715e>// blur
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>0.0625</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.0625</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.25</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.0625</span>, <span style=color:#ae81ff>0.125</span>, <span style=color:#ae81ff>0.0625</span>];
</span></span><span style=display:flex><span>      <span style=color:#75715e>// https://en.wikipedia.org/wiki/Kernel_(image_processing)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>4</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>6</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>4</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>4</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>16</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>24</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>16</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>4</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>6</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>24</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>36</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>24</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>6</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>4</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>16</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>24</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>16</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>4</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>4</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>6</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>4</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>, <span style=color:#ae81ff>1</span><span style=color:#f92672>/</span><span style=color:#ae81ff>256</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>4</span>) { <span style=color:#75715e>// top sobel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#75715e>// https://www.researchgate.net/figure/Sobel-convolution-kernels5x5_fig1_49619233
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, 
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span>) { <span style=color:#75715e>// right sobel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, 
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, 
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>4</span>,
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, 
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>,];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>6</span>) { <span style=color:#75715e>// bottom sobel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, 
</span></span><span style=display:flex><span>               <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>7</span>) { <span style=color:#75715e>// left sobel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>];
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, 
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, 
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>4</span>,
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, 
</span></span><span style=display:flex><span>               <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>,];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>skernel</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>8</span>) { <span style=color:#75715e>// emboss
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask3</span> <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>      <span style=color:#75715e>// https://stackoverflow.com/questions/61297368/what-is-the-5x5-equivalent-of-the-3x3-emboss-kernel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>      <span style=color:#a6e22e>mask5</span> <span style=color:#f92672>=</span> [<span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>                <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>                <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>2</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ksize</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mask3&#39;</span>, <span style=color:#a6e22e>mask3</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ksize</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mask5&#39;</span>, <span style=color:#a6e22e>mask5</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>handleFile</span>(<span style=color:#a6e22e>file</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;image&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createImg</span>(<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>data</span>, <span style=color:#e6db74>&#39;&#39;</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>type</span> <span style=color:#f92672>===</span> <span style=color:#e6db74>&#39;video&#39;</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#a6e22e>file</span>.<span style=color:#a6e22e>data</span>]);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>hide</span>();
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>img</span>.<span style=color:#a6e22e>loop</span>();
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>Mask Shader Code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>sampler2D</span> texture;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> texOffset;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> mask3[<span style=color:#ae81ff>9</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> mask5[<span style=color:#ae81ff>25</span>];
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>int</span> ksize; <span style=color:#75715e>// kernel size</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>varying</span> <span style=color:#66d9ef>vec2</span> texcoords2;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> roiradius;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> mradius;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> mouse;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> resolution;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>int</span> mode;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> depth;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec2</span> st <span style=color:#f92672>=</span> gl_FragCoord.xy <span style=color:#f92672>/</span> resolution;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec2</span> center <span style=color:#f92672>=</span> mouse.xy <span style=color:#f92672>/</span> resolution;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec4</span> texel <span style=color:#f92672>=</span> texture2D(texture, texcoords2);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec4</span> convolution;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (ksize <span style=color:#f92672>==</span> <span style=color:#ae81ff>3</span>) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// col 0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc0 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span>texOffset.s, <span style=color:#f92672>-</span>texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc1 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(         <span style=color:#ae81ff>0.0</span>, <span style=color:#f92672>-</span>texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc2 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span>texOffset.s, <span style=color:#f92672>-</span>texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// col 1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc3 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span>texOffset.s,          <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc4 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(         <span style=color:#ae81ff>0.0</span>,          <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc5 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span>texOffset.s,          <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// col 2</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc6 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span>texOffset.s, <span style=color:#f92672>+</span>texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc7 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(         <span style=color:#ae81ff>0.0</span>, <span style=color:#f92672>+</span>texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc8 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span>texOffset.s, <span style=color:#f92672>+</span>texOffset.t);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec4</span> rgba[<span style=color:#ae81ff>9</span>];
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> texture2D(texture, tc0);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> texture2D(texture, tc1);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> texture2D(texture, tc2);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> texture2D(texture, tc3);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>=</span> texture2D(texture, tc4);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>5</span>] <span style=color:#f92672>=</span> texture2D(texture, tc5);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>=</span> texture2D(texture, tc6);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>7</span>] <span style=color:#f92672>=</span> texture2D(texture, tc7);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>=</span> texture2D(texture, tc8);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            convolution <span style=color:#f92672>+=</span> rgba[i] <span style=color:#f92672>*</span> mask3[i];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (ksize <span style=color:#f92672>==</span> <span style=color:#ae81ff>5</span>) {
</span></span><span style=display:flex><span>        <span style=color:#75715e>// row 0</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc0 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc1 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc2 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s,   <span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc3 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc4 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// row 1</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc5 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc6 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc7 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s,   <span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc8 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc9 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// row 2</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc10 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc11 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc12 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.s,   <span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc13 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc14 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// row 3</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc15 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc16 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc17 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s,   <span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc18 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc19 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#75715e>// row 4</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc20 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc21 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>-</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc22 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s,   <span style=color:#ae81ff>0.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc23 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>1.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec2</span> tc24 <span style=color:#f92672>=</span> texcoords2 <span style=color:#f92672>+</span> <span style=color:#66d9ef>vec2</span>(<span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.s, <span style=color:#f92672>+</span> <span style=color:#ae81ff>2.</span> <span style=color:#f92672>*</span> texOffset.t);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>vec4</span> rgba[<span style=color:#ae81ff>25</span>];
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> texture2D(texture, tc0);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> texture2D(texture, tc1);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> texture2D(texture, tc2);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> texture2D(texture, tc3);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>=</span> texture2D(texture, tc4);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>5</span>] <span style=color:#f92672>=</span> texture2D(texture, tc5);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>=</span> texture2D(texture, tc6);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>7</span>] <span style=color:#f92672>=</span> texture2D(texture, tc7);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>=</span> texture2D(texture, tc8);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>9</span>] <span style=color:#f92672>=</span> texture2D(texture, tc9);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>10</span>] <span style=color:#f92672>=</span> texture2D(texture, tc10);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>11</span>] <span style=color:#f92672>=</span> texture2D(texture, tc11);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>12</span>] <span style=color:#f92672>=</span> texture2D(texture, tc12);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>13</span>] <span style=color:#f92672>=</span> texture2D(texture, tc13);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>14</span>] <span style=color:#f92672>=</span> texture2D(texture, tc14);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>15</span>] <span style=color:#f92672>=</span> texture2D(texture, tc15);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>16</span>] <span style=color:#f92672>=</span> texture2D(texture, tc16);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>17</span>] <span style=color:#f92672>=</span> texture2D(texture, tc17);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>18</span>] <span style=color:#f92672>=</span> texture2D(texture, tc18);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>19</span>] <span style=color:#f92672>=</span> texture2D(texture, tc19);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>20</span>] <span style=color:#f92672>=</span> texture2D(texture, tc20);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>21</span>] <span style=color:#f92672>=</span> texture2D(texture, tc21);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>22</span>] <span style=color:#f92672>=</span> texture2D(texture, tc22);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>23</span>] <span style=color:#f92672>=</span> texture2D(texture, tc23);
</span></span><span style=display:flex><span>        rgba[<span style=color:#ae81ff>24</span>] <span style=color:#f92672>=</span> texture2D(texture, tc24);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; i <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>25</span>; i<span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>            convolution <span style=color:#f92672>+=</span> rgba[i] <span style=color:#f92672>*</span> mask5[i];
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> (distance(st, center) <span style=color:#f92672>&lt;</span> roiradius) <span style=color:#f92672>?</span> <span style=color:#66d9ef>vec4</span>(convolution.rgb, <span style=color:#ae81ff>1.0</span>) <span style=color:#f92672>:</span> texel; 
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>Magnifier Shader Code</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-glsl data-lang=glsl><span style=display:flex><span><span style=color:#66d9ef>precision</span> <span style=color:#66d9ef>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>sampler2D</span> texture;
</span></span><span style=display:flex><span><span style=color:#66d9ef>varying</span> <span style=color:#66d9ef>vec2</span> texcoords2;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> mradius;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> mouse;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>vec2</span> resolution;
</span></span><span style=display:flex><span><span style=color:#66d9ef>uniform</span> <span style=color:#66d9ef>float</span> depth;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> main() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// https://www.shadertoy.com/view/llsSz7</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec2</span> uv <span style=color:#f92672>=</span> texcoords2.xy;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec2</span> center <span style=color:#f92672>=</span> <span style=color:#66d9ef>vec2</span>(mouse.x, <span style=color:#ae81ff>500.</span> <span style=color:#f92672>-</span> mouse.y) <span style=color:#f92672>/</span> resolution.xy;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> ax <span style=color:#f92672>=</span> ((uv.x <span style=color:#f92672>-</span> center.x) <span style=color:#f92672>*</span> (uv.x <span style=color:#f92672>-</span> center.x)) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>0.25</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.25</span>) <span style=color:#f92672>+</span> ((uv.y <span style=color:#f92672>-</span> center.y) <span style=color:#f92672>*</span> (uv.y <span style=color:#f92672>-</span> center.y)) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>0.25</span> <span style=color:#f92672>/</span> (resolution.x <span style=color:#f92672>/</span> resolution.y));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> dx <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span> <span style=color:#f92672>+</span> (<span style=color:#f92672>-</span> depth <span style=color:#f92672>/</span> mradius) <span style=color:#f92672>*</span> ax <span style=color:#f92672>+</span> (depth <span style=color:#f92672>/</span> (mradius <span style=color:#f92672>*</span> mradius)) <span style=color:#f92672>*</span> ax <span style=color:#f92672>*</span> ax;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> f <span style=color:#f92672>=</span>  (ax <span style=color:#f92672>+</span> dx);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (ax <span style=color:#f92672>&gt;</span> mradius) f <span style=color:#f92672>=</span> ax;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>vec2</span> magnifierArea <span style=color:#f92672>=</span> center <span style=color:#f92672>+</span> (uv <span style=color:#f92672>-</span> center) <span style=color:#f92672>*</span> f <span style=color:#f92672>/</span> ax;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    gl_FragColor <span style=color:#f92672>=</span> texture2D(texture, magnifierArea); 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/0ebc5369fd5cd3e0c40645e2ab1849616908f847 title='Last modified by Jaime | June 17, 2023' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 17, 2023</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#exercise>Exercise</a></li><li><a href=#image-processing>Image Processing</a><ul><li><a href=#controles>Controles</a></li></ul></li></ul></li></ul></nav></div></aside></main></body></html>